(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{Q9E9:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),r=u("Q2Ze"),a=u("SVse"),o=u("YHaq"),c=u("PDjf"),s=u("omvX"),d=u("s7LF"),b=u("H3DK"),m=u("UhP/"),h=u("9gLZ"),p=u("SCoL"),g=u("e6WT"),f=u("8sFK"),O=u("1Xc+"),y=u("Dxy4"),_=u("YEUz"),v=u("nYR2");class C{constructor(l,n,u,t,e,i){this.activatedRoute=l,this.customerService=n,this.progressBar=u,this.titleService=t,this.snackBar=e,this.accountDetailsService=i,this.MAX_CREDIT=1e5,this.MIN_CREDIT=1e3,this.balance=0,this.creditsForm=null,this.purchasing=!1,this.formGrpDirective=null}ngOnInit(){this.initCredits(),this.titleService.append("Purchase Credits | Dashboard"),this.activatedRoute.data.subscribe(l=>{this.balance=l.account.credit})}onSubmit(){const l=this.creditsField.value;l&&"number"==typeof l&&(this.progressBar.status=!0,this.purchasing=!0,this.customerService.purchaseCredits(l).pipe(Object(v.a)(()=>{this.progressBar.status=!1,this.purchasing=!1})).subscribe(n=>{this.accountDetailsService.account=n,this.balance=n.credit,this.snackBar.open(`${l} credits have been added to the account`),this.creditsField.reset(""),this.formGrpDirective.resetForm()}))}resetIfEmpty(){this.creditsField.value||this.formGrpDirective.resetForm()}initCredits(){this.creditsForm=new d.h({creditsField:new d.f("",[d.w.required,d.w.min(this.MIN_CREDIT),d.w.max(this.MAX_CREDIT)])})}get creditsField(){return this.creditsForm.get("creditsField")}}var M=u("iInd"),F=u("PSwx"),I=u("yW4/"),z=u("Trmh"),x=u("zHaW"),S=u("ANyk"),w=t.xb({encapsulation:0,styles:[["h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:unset}p[_ngcontent-%COMP%]{font-size:16px;font-weight:400;letter-spacing:.15px}.customer-credits-container[_ngcontent-%COMP%]{padding:32px;display:flex;justify-content:center;align-items:center;width:100%;box-sizing:border-box;flex-direction:column}.customer-credits-card[_ngcontent-%COMP%]{width:100%;margin-bottom:32px;box-sizing:border-box}.customer-credits-content[_ngcontent-%COMP%]{margin:0 16px;display:flex;flex-direction:row}.customer-credits-item[_ngcontent-%COMP%]{margin-right:16px;margin-bottom:16px}.customer-credits-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;letter-spacing:.15px;color:#1565c0}.customer-credits-field[_ngcontent-%COMP%]{width:300px}"]],data:{}});function T(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Yb(1,null,["The maximum amount is ",""]))],null,(function(l,n){l(n,1,0,n.component.MAX_CREDIT)}))}function D(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Yb(1,null,["The minimum amount is ",""]))],null,(function(l,n){l(n,1,0,n.component.MIN_CREDIT)}))}function P(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Yb(-1,null,["This field is required"]))],null,null)}function N(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,7,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.yb(1,16384,[[7,4]],0,r.c,[],null,null),(l()(),t.ib(16777216,null,null,1,null,T)),t.yb(3,16384,null,0,a.m,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,D)),t.yb(5,16384,null,0,a.m,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,P)),t.yb(7,16384,null,0,a.m,[t.Q,t.N],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,null==u.creditsField.errors?null:u.creditsField.errors.max),l(n,5,0,null==u.creditsField.errors?null:u.creditsField.errors.min),l(n,7,0,null==u.creditsField.errors?null:u.creditsField.errors.required)}),(function(l,n){l(n,0,0,t.Ob(n,1).id)}))}function q(l){return t.bc(0,[t.Qb(0,a.f,[t.v]),t.Ub(671088640,1,{formGrpDirective:0}),(l()(),t.zb(2,0,null,null,66,"div",[["class","customer-credits-container"]],null,null,null,null,null)),(l()(),t.zb(3,0,null,null,11,"mat-card",[["class","customer-credits-card mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,o.d,o.a)),t.yb(4,49152,null,0,c.a,[[2,s.a]],null,null),(l()(),t.zb(5,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,o.c,o.b)),t.yb(6,49152,null,0,c.e,[],null,null),(l()(),t.zb(7,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),t.yb(8,16384,null,0,c.h,[],null,null),(l()(),t.zb(9,0,null,null,1,"h2",[["class","customer-credits-title mat-h2"]],null,null,null,null,null)),(l()(),t.Yb(-1,null,[" Current balance "])),(l()(),t.zb(11,0,null,0,3,"mat-card-content",[["class","customer-credits-content mat-card-content"]],null,null,null,null,null)),t.yb(12,16384,null,0,c.d,[],null,null),(l()(),t.zb(13,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Yb(14,null,["",""])),(l()(),t.zb(15,0,null,null,53,"mat-card",[["class","customer-credits-card mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,o.d,o.a)),t.yb(16,49152,null,0,c.a,[[2,s.a]],null,null),(l()(),t.zb(17,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,o.c,o.b)),t.yb(18,49152,null,0,c.e,[],null,null),(l()(),t.zb(19,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),t.yb(20,16384,null,0,c.h,[],null,null),(l()(),t.zb(21,0,null,null,1,"h2",[["class","customer-credits-title mat-h2"]],null,null,null,null,null)),(l()(),t.Yb(-1,null,[" Purchase credits "])),(l()(),t.zb(23,0,null,0,45,"mat-card-content",[["class","customer-credits-content mat-card-content"]],null,null,null,null,null)),t.yb(24,16384,null,0,c.d,[],null,null),(l()(),t.zb(25,0,null,null,43,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.Ob(l,27).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Ob(l,27).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.onSubmit()&&e),e}),null,null)),t.yb(26,16384,null,0,d.A,[],null,null),t.yb(27,540672,[[1,4],["formGrpDirective",4]],0,d.i,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Tb(2048,null,d.c,null,[d.i]),t.yb(29,16384,null,0,d.q,[[4,d.c]],null,null),(l()(),t.zb(30,0,null,null,35,"mat-form-field",[["class","customer-credits-item customer-credits-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,b.b,b.a)),t.Tb(6144,null,r.a,null,[r.d]),t.yb(32,7520256,null,9,r.d,[t.l,t.h,[2,m.f],[2,h.b],[2,r.b],p.a,t.A,[2,s.a]],null,null),t.Ub(603979776,2,{_controlNonStatic:0}),t.Ub(335544320,3,{_controlStatic:0}),t.Ub(603979776,4,{_labelChildNonStatic:0}),t.Ub(335544320,5,{_labelChildStatic:0}),t.Ub(603979776,6,{_placeholderChild:0}),t.Ub(603979776,7,{_errorChildren:1}),t.Ub(603979776,8,{_hintChildren:1}),t.Ub(603979776,9,{_prefixChildren:1}),t.Ub(603979776,10,{_suffixChildren:1}),(l()(),t.zb(42,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.yb(43,16384,[[4,4],[5,4]],0,r.h,[],null,null),(l()(),t.Yb(-1,null,["Credits amount"])),(l()(),t.zb(45,0,[["credits",1]],1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","creditsField"],["matInput",""],["required",""],["step","1000"],["type","number"]],[[8,"min",0],[8,"max",0],[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Ob(l,48)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Ob(l,48).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Ob(l,48)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Ob(l,48)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Ob(l,49).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Ob(l,49).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Ob(l,49).onTouched()&&e),"focus"===n&&(e=!1!==t.Ob(l,53)._focusChanged(!0)&&e),"blur"===n&&(e=!1!==t.Ob(l,53)._focusChanged(!1)&&e),"input"===n&&(e=!1!==t.Ob(l,53)._onInput()&&e),"blur"===n&&(e=!1!==i.resetIfEmpty()&&e),e}),null,null)),t.yb(46,16384,null,0,d.v,[],{required:[0,"required"]},null),t.Tb(1024,null,d.m,(function(l){return[l]}),[d.v]),t.yb(48,16384,null,0,d.d,[t.F,t.l,[2,d.a]],null,null),t.yb(49,16384,null,0,d.t,[t.F,t.l],null,null),t.Tb(1024,null,d.n,(function(l,n){return[l,n]}),[d.d,d.t]),t.yb(51,671744,null,0,d.g,[[3,d.c],[6,d.m],[8,null],[6,d.n],[2,d.z]],{name:[0,"name"]},null),t.Tb(2048,null,d.o,null,[d.g]),t.yb(53,999424,null,0,g.b,[t.l,p.a,[6,d.o],[2,d.r],[2,d.i],m.b,[8,null],f.a,t.A],{required:[0,"required"],type:[1,"type"]},null),t.yb(54,16384,null,0,d.p,[[4,d.o]],null,null),t.Tb(2048,[[2,4],[3,4]],r.e,null,[g.b]),(l()(),t.zb(56,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.yb(57,16384,[[8,4]],0,r.g,[],null,null),(l()(),t.Yb(-1,null,["Input the amount of credits"])),(l()(),t.zb(59,0,null,7,4,"mat-hint",[["align","end"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.yb(60,16384,[[8,4]],0,r.g,[],{align:[0,"align"]},null),(l()(),t.Yb(61,null,["","/",""])),t.Sb(62,2),t.Sb(63,2),(l()(),t.ib(16777216,null,5,1,null,N)),t.yb(65,16384,null,0,a.m,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(l()(),t.zb(66,0,null,null,2,"button",[["class","customer-credits-item mat-focus-indicator"],["color","primary"],["mat-flat-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,O.d,O.b)),t.yb(67,180224,null,0,y.b,[t.l,_.h,[2,s.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),t.Yb(-1,0,["Purchase"]))],(function(l,n){var u=n.component;l(n,27,0,u.creditsForm),l(n,46,0,""),l(n,51,0,"creditsField"),l(n,53,0,"","number"),l(n,60,0,"end"),l(n,65,0,!u.creditsField.valid),l(n,67,0,u.purchasing||u.creditsForm.invalid,"primary")}),(function(l,n){var u=n.component;l(n,3,0,"NoopAnimations"===t.Ob(n,4)._animationMode),l(n,14,0,u.balance),l(n,15,0,"NoopAnimations"===t.Ob(n,16)._animationMode),l(n,25,0,t.Ob(n,29).ngClassUntouched,t.Ob(n,29).ngClassTouched,t.Ob(n,29).ngClassPristine,t.Ob(n,29).ngClassDirty,t.Ob(n,29).ngClassValid,t.Ob(n,29).ngClassInvalid,t.Ob(n,29).ngClassPending),l(n,30,1,["standard"==t.Ob(n,32).appearance,"fill"==t.Ob(n,32).appearance,"outline"==t.Ob(n,32).appearance,"legacy"==t.Ob(n,32).appearance,t.Ob(n,32)._control.errorState,t.Ob(n,32)._canLabelFloat,t.Ob(n,32)._shouldLabelFloat(),t.Ob(n,32)._hasFloatingLabel(),t.Ob(n,32)._hideControlPlaceholder(),t.Ob(n,32)._control.disabled,t.Ob(n,32)._control.autofilled,t.Ob(n,32)._control.focused,"accent"==t.Ob(n,32).color,"warn"==t.Ob(n,32).color,t.Ob(n,32)._shouldForward("untouched"),t.Ob(n,32)._shouldForward("touched"),t.Ob(n,32)._shouldForward("pristine"),t.Ob(n,32)._shouldForward("dirty"),t.Ob(n,32)._shouldForward("valid"),t.Ob(n,32)._shouldForward("invalid"),t.Ob(n,32)._shouldForward("pending"),!t.Ob(n,32)._animationsEnabled]),l(n,45,1,[t.Gb(1,"",u.MIN_CREDIT,""),t.Gb(1,"",u.MAX_CREDIT,""),t.Ob(n,46).required?"":null,t.Ob(n,53)._isServer,t.Ob(n,53).id,t.Ob(n,53).placeholder,t.Ob(n,53).disabled,t.Ob(n,53).required,t.Ob(n,53).readonly&&!t.Ob(n,53)._isNativeSelect||null,t.Ob(n,53)._ariaDescribedby||null,t.Ob(n,53).errorState,t.Ob(n,53).required.toString(),t.Ob(n,54).ngClassUntouched,t.Ob(n,54).ngClassTouched,t.Ob(n,54).ngClassPristine,t.Ob(n,54).ngClassDirty,t.Ob(n,54).ngClassValid,t.Ob(n,54).ngClassInvalid,t.Ob(n,54).ngClassPending]),l(n,56,0,"end"==t.Ob(n,57).align,t.Ob(n,57).id,null),l(n,59,0,"end"==t.Ob(n,60).align,t.Ob(n,60).id,null);var e=t.Zb(n,61,0,l(n,62,0,t.Ob(n,0),(null==t.Ob(n,45)?null:t.Ob(n,45).valueAsNumber)||0,"1.2-2")),i=t.Zb(n,61,1,l(n,63,0,t.Ob(n,0),u.MAX_CREDIT,"1.2-2"));l(n,61,0,e,i),l(n,66,0,t.Ob(n,67).disabled||null,"NoopAnimations"===t.Ob(n,67)._animationMode)}))}function E(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,1,"app-customer-credits",[],null,null,null,q,w)),t.yb(1,114688,null,0,C,[M.a,F.a,I.a,z.a,x.c,S.a],null,null)],(function(l,n){l(n,1,0)}),null)}var U=t.vb("app-customer-credits",C,E,{},{},[]),Y=u("9b/N"),A=u("pLIu");class R{}u.d(n,"CustomerCreditsModuleNgFactory",(function(){return j}));var j=t.wb(e,[],(function(l){return t.Lb([t.Mb(512,t.j,t.ab,[[8,[i.a,U]],[3,t.j],t.y]),t.Mb(4608,a.o,a.n,[t.v]),t.Mb(4608,Y.c,Y.c,[]),t.Mb(4608,m.b,m.b,[]),t.Mb(4608,d.e,d.e,[]),t.Mb(4608,d.y,d.y,[]),t.Mb(1073742336,a.c,a.c,[]),t.Mb(1073742336,M.s,M.s,[[2,M.x],[2,M.o]]),t.Mb(1073742336,R,R,[]),t.Mb(1073742336,h.a,h.a,[]),t.Mb(1073742336,m.j,m.j,[_.j,[2,m.c],[2,a.d]]),t.Mb(1073742336,c.f,c.f,[]),t.Mb(1073742336,Y.d,Y.d,[]),t.Mb(1073742336,r.f,r.f,[]),t.Mb(1073742336,p.b,p.b,[]),t.Mb(1073742336,f.c,f.c,[]),t.Mb(1073742336,g.c,g.c,[]),t.Mb(1073742336,m.t,m.t,[]),t.Mb(1073742336,y.c,y.c,[]),t.Mb(1073742336,d.x,d.x,[]),t.Mb(1073742336,d.u,d.u,[]),t.Mb(1073742336,e,e,[]),t.Mb(1024,M.m,(function(){return[[{path:"",component:C,resolve:{account:A.a}}]]}),[])])}))}}]);