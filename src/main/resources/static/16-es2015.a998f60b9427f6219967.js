(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Erqb:function(t,n,e){"use strict";e.r(n);var a=e("8Y7J");class c{}var o=e("pMnS"),r=e("YHaq"),u=e("PDjf"),i=e("omvX"),l=e("NUj7"),s=e("aym8"),b=e("UT1o"),d=e("SVse"),p=e("nYR2"),M=e("vkgz");class h{constructor(t,n,e,a,c){this.activatedRoute=t,this.accountManagerService=n,this.router=e,this.titleService=a,this.progressBarService=c,this.accountFormComponent=null,this.account=null,this.userTypes=null}ngOnInit(){this.titleService.append("Edit Account | Dashboard"),this.activatedRoute.data.subscribe(t=>{this.account=t.account,this.account&&this.account.fullName&&this.titleService.append(`Edit Account: ${this.account.fullName} | Dashboard`)}),this.accountManagerService.getAvailableUserTypes$().subscribe(t=>this.userTypes=t)}update(t){this.accountManagerService.update$(t).subscribe(t=>{this.account.deserialize(t),this.accountFormComponent.reset()})}delete(t){this.accountManagerService.getWarningDialog(t).afterClosed().subscribe(n=>{n&&(this.accountFormComponent.processing=!0,this.accountManagerService.delete$(t.id).pipe(Object(p.a)(()=>this.accountFormComponent.processing=!1)).subscribe(t=>{this.router.navigate(["../../all"],{relativeTo:this.activatedRoute})}))})}canDeactivate(){return!(this.accountFormComponent&&!this.accountFormComponent.accountForm.pristine)||(this.progressBarService.status=!1,this.accountManagerService.getDiscardDialog().pipe(Object(M.a)(t=>this.progressBarService.status=t)))}}var m=e("iInd"),v=e("JjcQ"),g=e("Trmh"),f=e("yW4/"),y=a.xb({encapsulation:0,styles:[["[_nghost-%COMP%]{min-height:100%;width:100%;box-sizing:border-box;padding:32px;display:flex;flex-direction:column}.account-form[_ngcontent-%COMP%]{padding:22px 16px;margin:auto}.error-card[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;justify-content:center;align-items:center}"]],data:{}});function S(t){return a.bc(0,[(t()(),a.zb(0,0,null,null,3,"mat-card",[["class","account-form mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,r.d,r.a)),a.yb(1,49152,null,0,u.a,[[2,i.a]],null,null),(t()(),a.zb(2,0,null,0,1,"app-account-manager-form",[["mode","edit"]],null,[[null,"deleteEvent"],[null,"updateEvent"]],(function(t,n,e){var a=!0,c=t.component;return"deleteEvent"===n&&(a=!1!==c.delete(e)&&a),"updateEvent"===n&&(a=!1!==c.update(e)&&a),a}),l.b,l.a)),a.yb(3,245760,[[1,4]],0,s.a,[b.a],{userTypes:[0,"userTypes"],mode:[1,"mode"],account:[2,"account"]},{deleteEvent:"deleteEvent",updateEvent:"updateEvent"})],(function(t,n){var e=n.component;t(n,3,0,e.userTypes,"edit",e.account)}),(function(t,n){t(n,0,0,"NoopAnimations"===a.Ob(n,1)._animationMode)}))}function j(t){return a.bc(0,[(t()(),a.zb(0,0,null,null,2,"mat-card",[["class","error-card mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,r.d,r.a)),a.yb(1,49152,null,0,u.a,[[2,i.a]],null,null),(t()(),a.Yb(-1,0,[" There was an error loading the account. "]))],null,(function(t,n){t(n,0,0,"NoopAnimations"===a.Ob(n,1)._animationMode)}))}function E(t){return a.bc(0,[a.Ub(671088640,1,{accountFormComponent:0}),(t()(),a.ib(16777216,null,null,1,null,S)),a.yb(2,16384,null,0,d.m,[a.Q,a.N],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),a.ib(0,[["errorMessage",2]],null,0,null,j))],(function(t,n){t(n,2,0,n.component.account,a.Ob(n,3))}),null)}function x(t){return a.bc(0,[(t()(),a.zb(0,0,null,null,1,"app-edit-account",[],null,null,null,E,y)),a.yb(1,114688,null,0,h,[m.a,v.a,m.o,g.a,f.a],null,null)],(function(t,n){t(n,1,0)}),null)}var T=a.vb("app-edit-account",h,x,{},{},[]),C=e("ntJQ"),F=e("9b/N"),w=e("UhP/"),z=e("1O3W"),N=e("9gLZ"),O=e("ZTz/"),I=e("s7LF"),A=e("ZFy/"),D=e("EY2u"),k=e("JIr8"),U=e("zHaW");let _=(()=>{class t{constructor(t,n){this.accountManagerService=t,this.snackBar=n}resolve(t,n){const e=+t.paramMap.get("id");return!e||isNaN(e)?(this.snackBar.open("Unable to fetch account without Id"),D.a):this.accountManagerService.getAccount$(e).pipe(Object(k.a)(t=>D.a))}}return t.\u0275prov=a.cc({factory:function(){return new t(a.dc(v.a),a.dc(U.c))},token:t,providedIn:"root"}),t})();var B=e("ReMr");class J{}var Q=e("YEUz"),Y=e("Q2Ze"),L=e("SCoL"),P=e("8sFK"),R=e("e6WT"),W=e("Tj54"),$=e("Dxy4"),Z=e("1z/I"),q=e("7KAL"),H=e("BSbQ"),K=e("jMqV"),V=e("pu8Q"),X=e("4emN");e.d(n,"EditAccountModuleNgFactory",(function(){return G}));var G=a.wb(c,[],(function(t){return a.Lb([a.Mb(512,a.j,a.ab,[[8,[o.a,T,C.a]],[3,a.j],a.y]),a.Mb(4608,d.o,d.n,[a.v]),a.Mb(4608,F.c,F.c,[]),a.Mb(4608,w.b,w.b,[]),a.Mb(4608,z.c,z.c,[z.i,z.e,a.j,z.h,z.f,a.s,a.A,d.d,N.b,[2,d.i]]),a.Mb(5120,z.j,z.k,[z.c]),a.Mb(5120,O.b,O.c,[z.c]),a.Mb(4608,I.e,I.e,[]),a.Mb(4608,I.y,I.y,[]),a.Mb(5120,A.b,A.c,[z.c]),a.Mb(1073742336,d.c,d.c,[]),a.Mb(1073742336,m.s,m.s,[[2,m.x],[2,m.o]]),a.Mb(1073742336,J,J,[]),a.Mb(1073742336,N.a,N.a,[]),a.Mb(1073742336,w.j,w.j,[Q.j,[2,w.c],[2,d.d]]),a.Mb(1073742336,F.d,F.d,[]),a.Mb(1073742336,Y.f,Y.f,[]),a.Mb(1073742336,L.b,L.b,[]),a.Mb(1073742336,P.c,P.c,[]),a.Mb(1073742336,R.c,R.c,[]),a.Mb(1073742336,W.c,W.c,[]),a.Mb(1073742336,w.t,w.t,[]),a.Mb(1073742336,$.c,$.c,[]),a.Mb(1073742336,Z.g,Z.g,[]),a.Mb(1073742336,q.b,q.b,[]),a.Mb(1073742336,q.d,q.d,[]),a.Mb(1073742336,z.g,z.g,[]),a.Mb(1073742336,w.r,w.r,[]),a.Mb(1073742336,w.o,w.o,[]),a.Mb(1073742336,O.e,O.e,[]),a.Mb(1073742336,H.b,H.b,[]),a.Mb(1073742336,K.d,K.d,[]),a.Mb(1073742336,K.c,K.c,[]),a.Mb(1073742336,I.x,I.x,[]),a.Mb(1073742336,I.u,I.u,[]),a.Mb(1073742336,V.c,V.c,[]),a.Mb(1073742336,Q.a,Q.a,[Q.j]),a.Mb(1073742336,A.e,A.e,[]),a.Mb(1073742336,X.a,X.a,[]),a.Mb(1073742336,u.f,u.f,[]),a.Mb(1073742336,c,c,[]),a.Mb(1024,m.m,(function(){return[[{path:"",pathMatch:"full",redirectTo:"0"},{path:":id",component:h,resolve:{account:_},canDeactivate:[B.a]}]]}),[])])}))}}]);