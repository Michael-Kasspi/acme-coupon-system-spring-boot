(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{ysxJ:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var o=u("pMnS"),c=u("OaSA"),a=u("GXRp"),i=u("1Xc+"),r=u("Dxy4"),b=u("YEUz"),s=u("omvX"),m=u("XE/z"),d=u("Tj54"),p=u("K0NO"),h=u("YHaq"),g=u("PDjf"),f=u("9gLZ"),y=u("SVse"),C=u("SCoL"),M=u("nYR2"),_=u("LYSW");class w{constructor(l,n,u,t,e,o,c,a){this.endpoint=l,this.activatedRoute=n,this.changeDetectorRef=u,this.customerService=t,this.progressBar=e,this.snackBar=o,this.dialog=c,this.titleService=a,this.customerCouponsTable=null,this.coupons=null,this.displayedColumns=["imageUrl","title","description","category","company","remove"]}ngOnInit(){this.titleService.append("My Coupons | Dashboard")}ngAfterViewInit(){this.activatedRoute.data.subscribe(l=>{this.coupons=l.coupons,this.customerCouponsTable.renderRows(),this.changeDetectorRef.detectChanges()})}removeCoupon(l){this.dialog.open(_.a,{data:{title:"Confirm coupon removal",body:"Warning! this action can't be undone.",action:"Remove"}}).afterClosed().subscribe(n=>{n&&(this.progressBar.status=!0,this.customerService.removeCoupon(l.id).pipe(Object(M.a)(()=>this.progressBar.status=!1)).subscribe(n=>{const u=this.coupons.findIndex(n=>n.id===l.id);this.coupons.splice(u,1),this.customerCouponsTable.renderRows(),this.snackBar.open("The coupon has been removed from the collection")}))})}}var x=u("rnfj"),T=u("iInd"),O=u("PSwx"),z=u("yW4/"),v=u("zHaW"),U=u("iELJ"),N=u("Trmh"),P=t.xb({encapsulation:0,styles:[[".customer-coupons-container[_ngcontent-%COMP%]{padding:32px;display:flex;justify-content:flex-start;align-items:center;min-height:100%;flex-direction:column}.customer-coupons-card[_ngcontent-%COMP%], .customer-coupons-container[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.customer-coupons-content[_ngcontent-%COMP%]{margin:0 16px}.customer-coupons-item[_ngcontent-%COMP%]{margin-right:16px;margin-bottom:16px}.customer-coupons-title[_ngcontent-%COMP%]{color:#1565c0}.customer-coupons-coupon[_ngcontent-%COMP%]{margin:20px;width:-webkit-min-content;width:-moz-min-content;width:min-content;display:block;max-width:300px}.customer-coupons-table[_ngcontent-%COMP%]{width:100%;margin:auto}.mat-row[_ngcontent-%COMP%]{height:104px}.mat-header-cell[_ngcontent-%COMP%]{padding:8px;color:#455a64;font-size:.875rem;line-height:1.375rem;font-weight:500;letter-spacing:.0071428571em}.mat-cell[_ngcontent-%COMP%]{height:75px;padding:8px;font-size:16px}.image-thumbnail[_ngcontent-%COMP%]{height:60px;width:auto;margin:12px 0}.mat-column-imageUrl[_ngcontent-%COMP%]{width:10%}.mat-column-description[_ngcontent-%COMP%]{width:30%}.mat-column-company[_ngcontent-%COMP%]{width:20%}.mat-column-title[_ngcontent-%COMP%]{width:30%}.mat-column-category[_ngcontent-%COMP%]{width:10%}.no-coupons-message[_ngcontent-%COMP%]{width:100%;margin:16px}.no-coupons-message-text[_ngcontent-%COMP%]{font-size:14px;font-weight:400;letter-spacing:.25px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto;padding:8px}.text-truncate[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2}.action-btn[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(69,90,100,.06)}"]],data:{}});function R(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.e,[a.e,t.l],null,null),(l()(),t.Yb(-1,null,["Image"]))],null,null)}function k(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.a,[a.e,t.l],null,null),(l()(),t.zb(2,0,null,null,0,"img",[["alt",""],["class","image-thumbnail"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.imageUrl?n.component.endpoint.res+n.context.$implicit.imageUrl:"")}))}function D(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.e,[a.e,t.l],null,null),(l()(),t.Yb(-1,null,["Title"]))],null,null)}function E(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.a,[a.e,t.l],null,null),(l()(),t.zb(2,0,null,null,1,"span",[["class","text-truncate"]],null,null,null,null,null)),(l()(),t.Yb(3,null,["",""]))],null,(function(l,n){l(n,3,0,null==n.context.$implicit?null:n.context.$implicit.title)}))}function S(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.e,[a.e,t.l],null,null),(l()(),t.Yb(-1,null,["Category"]))],null,null)}function Y(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.a,[a.e,t.l],null,null),(l()(),t.zb(2,0,null,null,1,"span",[["class","text-truncate"]],null,null,null,null,null)),(l()(),t.Yb(3,null,["",""]))],null,(function(l,n){l(n,3,0,null==n.context.$implicit?null:null==n.context.$implicit.category?null:n.context.$implicit.category.name)}))}function A(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.e,[a.e,t.l],null,null),(l()(),t.Yb(-1,null,["Company"]))],null,null)}function j(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.a,[a.e,t.l],null,null),(l()(),t.zb(2,0,null,null,1,"span",[["class","text-truncate"]],null,null,null,null,null)),(l()(),t.Yb(3,null,["",""]))],null,(function(l,n){l(n,3,0,null==n.context.$implicit?null:n.context.$implicit.company.name)}))}function $(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.e,[a.e,t.l],null,null),(l()(),t.Yb(-1,null,["Description"]))],null,null)}function L(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.a,[a.e,t.l],null,null),(l()(),t.zb(2,0,null,null,1,"span",[["class","text-truncate"]],null,null,null,null,null)),(l()(),t.Yb(3,null,["",""]))],null,(function(l,n){l(n,3,0,(null==n.context.$implicit?null:n.context.$implicit.description)||"No description.")}))}function H(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.e,[a.e,t.l],null,null),(l()(),t.Yb(-1,null,["Remove"]))],null,null)}function I(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,7,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),t.yb(1,16384,null,0,c.a,[a.e,t.l],null,null),(l()(),t.zb(2,0,null,null,5,"div",[["class","action-btn"]],null,null,null,null,null)),(l()(),t.zb(3,0,null,null,4,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeCoupon(l.context.$implicit)&&t),t}),i.d,i.b)),t.yb(4,180224,null,0,r.b,[t.l,b.h,[2,s.a]],{color:[0,"color"]},null),(l()(),t.zb(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),t.yb(6,9158656,null,0,d.b,[t.l,d.d,[8,null],[2,d.a],[2,t.n]],null,null),(l()(),t.Yb(-1,0,["clear"]))],(function(l,n){l(n,4,0,"warn"),l(n,6,0)}),(function(l,n){l(n,3,0,t.Ob(n,4).disabled||null,"NoopAnimations"===t.Ob(n,4)._animationMode),l(n,5,0,t.Ob(n,6).inline,"primary"!==t.Ob(n,6).color&&"accent"!==t.Ob(n,6).color&&"warn"!==t.Ob(n,6).color)}))}function F(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,p.d,p.a)),t.Tb(6144,null,a.l,null,[c.g]),t.yb(2,49152,null,0,c.g,[],null,null)],null,null)}function J(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,p.e,p.b)),t.Tb(6144,null,a.n,null,[c.i]),t.yb(2,49152,null,0,c.i,[],null,null)],null,null)}function B(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,2,"div",[["class","no-coupons-message"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"p",[["class","no-coupons-message-text"]],null,null,null,null,null)),(l()(),t.Yb(-1,null,[" No coupons in the collection. "]))],null,null)}function W(l){return t.bc(0,[t.Ub(671088640,1,{customerCouponsTable:0}),(l()(),t.zb(1,0,null,null,98,"div",[["class","customer-coupons-container"]],null,null,null,null,null)),(l()(),t.zb(2,0,null,null,97,"mat-card",[["class","customer-coupons-card mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,h.d,h.a)),t.yb(3,49152,null,0,g.a,[[2,s.a]],null,null),(l()(),t.zb(4,0,null,0,95,"mat-card-content",[["class","customer-coupons-content mat-card-content"]],null,null,null,null,null)),t.yb(5,16384,null,0,g.d,[],null,null),(l()(),t.zb(6,0,null,null,91,"table",[["class","customer-coupons-table mat-table"],["mat-table",""]],null,null,null,p.f,p.c)),t.Tb(6144,null,a.p,null,[c.k]),t.yb(8,2342912,[[1,4],["customerCouponsTable",4]],4,c.k,[t.t,t.h,t.l,[8,null],[2,f.b],y.d,C.a],{dataSource:[0,"dataSource"]},null),t.Ub(603979776,2,{_contentColumnDefs:1}),t.Ub(603979776,3,{_contentRowDefs:1}),t.Ub(603979776,4,{_contentHeaderRowDefs:1}),t.Ub(603979776,5,{_contentFooterRowDefs:1}),t.Tb(2048,null,a.a,null,[c.k]),(l()(),t.zb(14,0,null,null,12,null,null,null,null,null,null,null)),t.Tb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[c.c]),t.yb(16,16384,null,3,c.c,[[2,a.a]],{name:[0,"name"]},null),t.Ub(603979776,6,{cell:0}),t.Ub(603979776,7,{headerCell:0}),t.Ub(603979776,8,{footerCell:0}),t.Tb(2048,[[2,4]],a.e,null,[c.c]),(l()(),t.ib(0,null,null,2,null,R)),t.yb(22,16384,null,0,c.f,[t.N],null,null),t.Tb(2048,[[7,4]],a.k,null,[c.f]),(l()(),t.ib(0,null,null,2,null,k)),t.yb(25,16384,null,0,c.b,[t.N],null,null),t.Tb(2048,[[6,4]],a.c,null,[c.b]),(l()(),t.zb(27,0,null,null,12,null,null,null,null,null,null,null)),t.Tb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[c.c]),t.yb(29,16384,null,3,c.c,[[2,a.a]],{name:[0,"name"]},null),t.Ub(603979776,9,{cell:0}),t.Ub(603979776,10,{headerCell:0}),t.Ub(603979776,11,{footerCell:0}),t.Tb(2048,[[2,4]],a.e,null,[c.c]),(l()(),t.ib(0,null,null,2,null,D)),t.yb(35,16384,null,0,c.f,[t.N],null,null),t.Tb(2048,[[10,4]],a.k,null,[c.f]),(l()(),t.ib(0,null,null,2,null,E)),t.yb(38,16384,null,0,c.b,[t.N],null,null),t.Tb(2048,[[9,4]],a.c,null,[c.b]),(l()(),t.zb(40,0,null,null,12,null,null,null,null,null,null,null)),t.Tb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[c.c]),t.yb(42,16384,null,3,c.c,[[2,a.a]],{name:[0,"name"]},null),t.Ub(603979776,12,{cell:0}),t.Ub(603979776,13,{headerCell:0}),t.Ub(603979776,14,{footerCell:0}),t.Tb(2048,[[2,4]],a.e,null,[c.c]),(l()(),t.ib(0,null,null,2,null,S)),t.yb(48,16384,null,0,c.f,[t.N],null,null),t.Tb(2048,[[13,4]],a.k,null,[c.f]),(l()(),t.ib(0,null,null,2,null,Y)),t.yb(51,16384,null,0,c.b,[t.N],null,null),t.Tb(2048,[[12,4]],a.c,null,[c.b]),(l()(),t.zb(53,0,null,null,12,null,null,null,null,null,null,null)),t.Tb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[c.c]),t.yb(55,16384,null,3,c.c,[[2,a.a]],{name:[0,"name"]},null),t.Ub(603979776,15,{cell:0}),t.Ub(603979776,16,{headerCell:0}),t.Ub(603979776,17,{footerCell:0}),t.Tb(2048,[[2,4]],a.e,null,[c.c]),(l()(),t.ib(0,null,null,2,null,A)),t.yb(61,16384,null,0,c.f,[t.N],null,null),t.Tb(2048,[[16,4]],a.k,null,[c.f]),(l()(),t.ib(0,null,null,2,null,j)),t.yb(64,16384,null,0,c.b,[t.N],null,null),t.Tb(2048,[[15,4]],a.c,null,[c.b]),(l()(),t.zb(66,0,null,null,12,null,null,null,null,null,null,null)),t.Tb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[c.c]),t.yb(68,16384,null,3,c.c,[[2,a.a]],{name:[0,"name"]},null),t.Ub(603979776,18,{cell:0}),t.Ub(603979776,19,{headerCell:0}),t.Ub(603979776,20,{footerCell:0}),t.Tb(2048,[[2,4]],a.e,null,[c.c]),(l()(),t.ib(0,null,null,2,null,$)),t.yb(74,16384,null,0,c.f,[t.N],null,null),t.Tb(2048,[[19,4]],a.k,null,[c.f]),(l()(),t.ib(0,null,null,2,null,L)),t.yb(77,16384,null,0,c.b,[t.N],null,null),t.Tb(2048,[[18,4]],a.c,null,[c.b]),(l()(),t.zb(79,0,null,null,12,null,null,null,null,null,null,null)),t.Tb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[c.c]),t.yb(81,16384,null,3,c.c,[[2,a.a]],{name:[0,"name"]},null),t.Ub(603979776,21,{cell:0}),t.Ub(603979776,22,{headerCell:0}),t.Ub(603979776,23,{footerCell:0}),t.Tb(2048,[[2,4]],a.e,null,[c.c]),(l()(),t.ib(0,null,null,2,null,H)),t.yb(87,16384,null,0,c.f,[t.N],null,null),t.Tb(2048,[[22,4]],a.k,null,[c.f]),(l()(),t.ib(0,null,null,2,null,I)),t.yb(90,16384,null,0,c.b,[t.N],null,null),t.Tb(2048,[[21,4]],a.c,null,[c.b]),(l()(),t.ib(0,null,null,2,null,F)),t.yb(93,540672,null,0,c.h,[t.N,t.t,[2,a.a]],{columns:[0,"columns"]},null),t.Tb(2048,[[4,4]],a.m,null,[c.h]),(l()(),t.ib(0,null,null,2,null,J)),t.yb(96,540672,null,0,c.j,[t.N,t.t,[2,a.a]],{columns:[0,"columns"]},null),t.Tb(2048,[[3,4]],a.o,null,[c.j]),(l()(),t.ib(16777216,null,null,1,null,B)),t.yb(99,16384,null,0,y.m,[t.Q,t.N],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,8,0,u.coupons),l(n,16,0,"imageUrl"),l(n,29,0,"title"),l(n,42,0,"category"),l(n,55,0,"company"),l(n,68,0,"description"),l(n,81,0,"remove"),l(n,93,0,u.displayedColumns),l(n,96,0,u.displayedColumns),l(n,99,0,0===(null==u.coupons?null:u.coupons.length))}),(function(l,n){l(n,2,0,"NoopAnimations"===t.Ob(n,3)._animationMode)}))}function X(l){return t.bc(0,[(l()(),t.zb(0,0,null,null,1,"app-customer-coupons",[],null,null,null,W,P)),t.yb(1,4308992,null,0,w,[x.a,T.a,t.h,O.a,z.a,v.c,U.e,N.a],null,null)],(function(l,n){l(n,1,0)}),null)}var q=t.vb("app-customer-coupons",w,X,{},{},[]),V=u("EY2u"),G=u("JIr8");let K=(()=>{class l{constructor(l){this.customerService=l}resolve(l,n){return this.customerService.getAllCoupons().pipe(Object(G.a)(l=>V.a))}}return l.\u0275prov=t.cc({factory:function(){return new l(t.dc(O.a))},token:l,providedIn:"root"}),l})();class Q{}var Z=u("UhP/");u.d(n,"CustomerCouponsModuleNgFactory",(function(){return ll}));var ll=t.wb(e,[],(function(l){return t.Lb([t.Mb(512,t.j,t.ab,[[8,[o.a,q]],[3,t.j],t.y]),t.Mb(4608,y.o,y.n,[t.v]),t.Mb(1073742336,y.c,y.c,[]),t.Mb(1073742336,T.s,T.s,[[2,T.x],[2,T.o]]),t.Mb(1073742336,Q,Q,[]),t.Mb(1073742336,f.a,f.a,[]),t.Mb(1073742336,Z.j,Z.j,[b.j,[2,Z.c],[2,y.d]]),t.Mb(1073742336,g.f,g.f,[]),t.Mb(1073742336,a.q,a.q,[]),t.Mb(1073742336,c.l,c.l,[]),t.Mb(1073742336,C.b,C.b,[]),t.Mb(1073742336,Z.t,Z.t,[]),t.Mb(1073742336,r.c,r.c,[]),t.Mb(1073742336,d.c,d.c,[]),t.Mb(1073742336,e,e,[]),t.Mb(1024,T.m,(function(){return[[{path:"",component:w,resolve:{coupons:K}}]]}),[])])}))}}]);