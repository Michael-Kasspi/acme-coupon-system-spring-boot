(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+x9r":function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));var i=e("8Y7J"),t=e("SxV6"),a=e("5ykc");class o{constructor(l,n){this.dialog=l,this.endpoint=n,this.SELECT_MODE="select",this.UPLOAD_MODE="upload",this.DEFAULT_MODE=this.UPLOAD_MODE,this.mode=this.DEFAULT_MODE,this.progress=void 0,this.imagePreview=null,this._imageUrl=null,this.imageSelectedEvent=new i.o,this.imagePreviewEvent=new i.o,this.imageDeleteEvent=new i.o,this.imageBrowseEvent=new i.o}ngOnInit(){}openImageSelectDialog(){this.imageBrowseEvent.emit();const l=this.configDialog(),n=l.componentInstance,e=this.deleteImageListener(n.deleteFileEvent),i=this.previewImageListener(n.selectedImagePreviewEvent);l.afterClosed().subscribe(l=>{e.unsubscribe(),i.unsubscribe(),l&&(this.imageUrl=null,this.imageSelectedEvent.emit(l))})}deleteImageListener(l){return l.pipe(Object(t.a)()).subscribe(l=>{this.imagePreview=null,this.imageDeleteEvent.emit()})}configDialog(){return this.dialog.open(a.a,{data:{currentImageUrl:this._imageUrl,imagePreview:this.imagePreview,action:this.mode===this.SELECT_MODE?"Select":null}})}get imageUrl(){return this._imageUrl?this.generateImageUrl():this.imagePreview||""}generateImageUrl(){return this._imageUrl?`${this.endpoint.res}${this._imageUrl}`:null}set imageUrl(l){this._imageUrl=l}previewImageListener(l){return l.subscribe(l=>{l&&(this.imagePreview=l,this.imagePreviewEvent.emit(l))})}}},AUTa:function(l,n,e){"use strict";var i=e("8Y7J"),t=e("1Xc+"),a=e("Dxy4"),o=e("YEUz"),u=e("omvX"),r=e("XE/z"),s=e("Tj54"),c=e("oBbD"),d=e("pu8Q"),m=e("SCoL"),b=e("SVse");e("+x9r"),e("iELJ"),e("rnfj"),e.d(n,"a",(function(){return p})),e.d(n,"b",(function(){return O}));var p=i.xb({encapsulation:0,styles:[[".coupon-form-image-preview[_ngcontent-%COMP%]{height:100%;width:auto}.image-preview-container[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}.image-edit-icon[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px;color:#fff}.image-edit-container[_ngcontent-%COMP%]{cursor:pointer;display:none;background-color:rgba(0,0,0,.5)}.image-edit-container[_ngcontent-%COMP%], .image-preview-spinner-container[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);justify-content:center;align-items:center;height:100px;width:100px;border-radius:50%}.image-preview-spinner-container[_ngcontent-%COMP%]{display:flex;background-color:hsla(0,0%,100%,.5);padding:10px}.image-preview-spinner[_ngcontent-%COMP%]{height:100%;width:100%}.image-preview-container[_ngcontent-%COMP%]:hover > .image-edit-container[_ngcontent-%COMP%]{display:flex}.image-preview[_ngcontent-%COMP%]{display:block;height:100%;width:auto;margin:auto}.image-preview-block[_ngcontent-%COMP%]{height:200px;width:auto}"]],data:{}});function g(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.openImageSelectDialog()&&i),i}),t.d,t.b)),i.yb(1,180224,null,0,a.b,[i.l,o.h,[2,u.a]],null,null),(l()(),i.Yb(2,0,[" ","\n"]))],null,(function(l,n){var e=n.component;l(n,0,0,i.Ob(n,1).disabled||null,"NoopAnimations"===i.Ob(n,1)._animationMode),l(n,2,0,(e.mode===e.UPLOAD_MODE?"Upload":"Select")+" Image")}))}function f(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,3,"div",[["class","image-edit-container"]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.openImageSelectDialog()&&i),i}),null,null)),(l()(),i.zb(1,0,null,null,2,"mat-icon",[["class","image-edit-icon mat-icon notranslate"],["inline",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,r.b,r.a)),i.yb(2,9158656,null,0,s.b,[i.l,s.d,[8,null],[2,s.a],[2,i.n]],{inline:[0,"inline"]},null),(l()(),i.Yb(-1,0,["edit"]))],(function(l,n){l(n,2,0,"")}),(function(l,n){l(n,1,0,i.Ob(n,2).inline,"primary"!==i.Ob(n,2).color&&"accent"!==i.Ob(n,2).color&&"warn"!==i.Ob(n,2).color)}))}function h(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,2,"div",[["class","image-preview-spinner-container"]],null,null,null,null,null)),(l()(),i.zb(1,0,null,null,1,"mat-progress-spinner",[["class","image-preview-spinner mat-progress-spinner"],["diameter","75"],["mode","determinate"],["role","progressbar"],["strokeWidth","5"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,c.c,c.a)),i.yb(2,114688,null,0,d.b,[i.l,m.a,[2,b.d],[2,u.a],d.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"],mode:[2,"mode"],value:[3,"value"]},null)],(function(l,n){l(n,2,0,"75","5","determinate",n.component.progress)}),(function(l,n){l(n,1,0,i.Ob(n,2)._noopAnimations,i.Ob(n,2).diameter,i.Ob(n,2).diameter,"determinate"===i.Ob(n,2).mode?0:null,"determinate"===i.Ob(n,2).mode?100:null,"determinate"===i.Ob(n,2).mode?i.Ob(n,2).value:null,i.Ob(n,2).mode)}))}function v(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,6,"div",[["class","image-preview-container"]],null,null,null,null,null)),(l()(),i.ib(16777216,null,null,1,null,f)),i.yb(2,16384,null,0,b.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.ib(16777216,null,null,1,null,h)),i.yb(4,16384,null,0,b.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.zb(5,0,null,null,1,"div",[["class","image-preview-block"]],null,null,null,null,null)),(l()(),i.zb(6,0,null,null,0,"img",[["alt",""],["class","image-preview"]],[[8,"src",4]],null,null,null,null))],(function(l,n){var e=n.component;l(n,2,0,void 0===e.progress),l(n,4,0,e.mode===e.UPLOAD_MODE&&void 0!==e.progress)}),(function(l,n){l(n,6,0,n.component.imageUrl)}))}function O(l){return i.bc(0,[(l()(),i.ib(16777216,null,null,1,null,g)),i.yb(1,16384,null,0,b.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.ib(16777216,null,null,1,null,v)),i.yb(3,16384,null,0,b.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,!e.imageUrl&&!e.imagePreview),l(n,3,0,e.imageUrl||e.imagePreview)}),null)}},LdVU:function(l,n,e){"use strict";e.r(n);var i=e("8Y7J");class t{}var a=e("pMnS"),o=e("YHaq"),u=e("PDjf"),r=e("omvX"),s=e("Q2Ze"),c=e("SVse"),d=e("1Xc+"),m=e("Dxy4"),b=e("YEUz"),p=e("s7LF"),g=e("H3DK"),f=e("UhP/"),h=e("9gLZ"),v=e("SCoL"),O=e("e6WT"),_=e("8sFK"),y=e("mGvx"),w=e("BSbQ"),C=e("AUTa"),M=e("+x9r"),E=e("iELJ"),P=e("rnfj"),S=e("3WY7");class x{constructor(){this.ADD_CONTROLS="add",this.EDIT_CONTROLS="edit",this.DEFAULT_CONTROLS=this.ADD_CONTROLS,this.NAME_MIN_CHARS=3,this.NAME_MAX_CHARS=50,this.DESC_MAX_CHARS=250,this.controls=this.DEFAULT_CONTROLS,this.company=new S.a,this.uploadProgress=void 0,this.processing=!1,this.saveEvent=new i.o,this.updateEvent=new i.o,this.imageSelectEvent=new i.o,this.imageDeleteEvent=new i.o,this.imagePreviewEvent=new i.o,this.resetEvent=new i.o,this.imageManager=null,this.profileFrom=null}ngOnInit(){this.initProfileForm()}initProfileForm(){var l,n;this.profileFrom=new p.h({name:new p.f((null===(l=this.company)||void 0===l?void 0:l.name)||"",[p.w.required,p.w.min(this.NAME_MIN_CHARS),p.w.max(this.NAME_MAX_CHARS)]),description:new p.f((null===(n=this.company)||void 0===n?void 0:n.description)||"",[p.w.max(this.DESC_MAX_CHARS)])})}get imageUrl(){var l;return(null===(l=this.company)||void 0===l?void 0:l.imageUrl)||""}reset(){this.initProfileForm(),this.imageManager.imagePreview=null,this.imageManager.imageUrl=this.company.imageUrl,this.resetEvent.emit()}save(){this.saveEvent.emit(new S.a(this.profileFrom.value))}update(){this.updateEvent.emit(new S.a(this.profileFrom.value))}selectLogo(l){this.imageSelectEvent.emit(l)}deleteLogo(){this.imageDeleteEvent.emit()}emitImagePreview(l){this.company.imagePreview=l,this.imagePreviewEvent.emit(l)}get name(){return this.profileFrom.get("name")}get description(){return this.profileFrom.get("description")}}var U=i.xb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.profile-form-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;flex:1 1 auto}.profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}.profile-form-section[_ngcontent-%COMP%]{flex:0 1 auto}.profile-form-image-preview[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content;height:auto}.profile-form-field[_ngcontent-%COMP%], .profile-form-image-preview[_ngcontent-%COMP%]{margin-bottom:16px;display:block}.profile-form-divider[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;align-items:center}.profile-form-actions[_ngcontent-%COMP%]{flex:0 0 auto}.profile-form-button[_ngcontent-%COMP%]{margin-right:16px}"]],data:{}});function A(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Yb(-1,null,[" The name of the company is required "]))],null,null)}function I(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Yb(1,null,[" The name of the company must be at least "," character long "]))],null,(function(l,n){l(n,1,0,n.component.NAME_MIN_CHARS)}))}function z(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Yb(1,null,[" The name of the company must be up to "," character long "]))],null,(function(l,n){l(n,1,0,n.component.NAME_MAX_CHARS)}))}function D(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,7,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),i.yb(1,16384,[[7,4]],0,s.c,[],null,null),(l()(),i.ib(16777216,null,null,1,null,A)),i.yb(3,16384,null,0,c.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.ib(16777216,null,null,1,null,I)),i.yb(5,16384,null,0,c.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.ib(16777216,null,null,1,null,z)),i.yb(7,16384,null,0,c.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,null==e.name?null:null==e.name.errors?null:e.name.errors.required),l(n,5,0,null==e.name?null:null==e.name.errors?null:e.name.errors.minlength),l(n,7,0,null==e.name?null:null==e.name.errors?null:e.name.errors.maxlength)}),(function(l,n){l(n,0,0,i.Ob(n,1).id)}))}function F(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Yb(1,null,[" The description of the company must be up to "," character long "]))],null,(function(l,n){l(n,1,0,n.component.DESC_MAX_CHARS)}))}function N(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),i.zb(1,0,null,null,2,"button",[["class","profile-form-button mat-focus-indicator"],["color","primary"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.save()&&i),i}),d.d,d.b)),i.yb(2,180224,null,0,m.b,[i.l,b.h,[2,r.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),i.Yb(-1,0,["Save"])),(l()(),i.zb(4,0,null,null,2,"button",[["class","profile-form-button mat-focus-indicator"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.reset()&&i),i}),d.d,d.b)),i.yb(5,180224,null,0,m.b,[i.l,b.h,[2,r.a]],{disabled:[0,"disabled"]},null),(l()(),i.Yb(-1,0,["Reset"]))],(function(l,n){var e=n.component;l(n,2,0,e.processing||e.profileFrom.invalid||!e.profileFrom.touched,"primary"),l(n,5,0,e.processing||e.profileFrom.untouched)}),(function(l,n){l(n,1,0,i.Ob(n,2).disabled||null,"NoopAnimations"===i.Ob(n,2)._animationMode),l(n,4,0,i.Ob(n,5).disabled||null,"NoopAnimations"===i.Ob(n,5)._animationMode)}))}function L(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,2,"button",[["class","profile-form-button mat-focus-indicator"],["color","primary"],["mat-flat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.update()&&i),i}),d.d,d.b)),i.yb(1,180224,null,0,m.b,[i.l,b.h,[2,r.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),i.Yb(-1,0,["Update"])),(l()(),i.zb(3,0,null,null,2,"button",[["class","profile-form-button mat-focus-indicator"],["mat-flat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.reset()&&i),i}),d.d,d.b)),i.yb(4,180224,null,0,m.b,[i.l,b.h,[2,r.a]],{disabled:[0,"disabled"]},null),(l()(),i.Yb(-1,0,["Revert"]))],(function(l,n){var e=n.component;l(n,1,0,e.processing||e.profileFrom.invalid||e.profileFrom.pristine,"primary"),l(n,4,0,e.processing||e.profileFrom.untouched)}),(function(l,n){l(n,0,0,i.Ob(n,1).disabled||null,"NoopAnimations"===i.Ob(n,1)._animationMode),l(n,3,0,i.Ob(n,4).disabled||null,"NoopAnimations"===i.Ob(n,4)._animationMode)}))}function T(l){return i.bc(0,[i.Ub(671088640,1,{imageManager:0}),(l()(),i.zb(1,0,null,null,81,"div",[["class","profile-form-container"]],null,null,null,null,null)),(l()(),i.zb(2,0,null,null,74,"div",[["class","profile-form-section profile-form"]],null,null,null,null,null)),(l()(),i.zb(3,0,null,null,73,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==i.Ob(l,5).onSubmit(e)&&t),"reset"===n&&(t=!1!==i.Ob(l,5).onReset()&&t),t}),null,null)),i.yb(4,16384,null,0,p.A,[],null,null),i.yb(5,540672,null,0,p.i,[[8,null],[8,null]],{form:[0,"form"]},null),i.Tb(2048,null,p.c,null,[p.i]),i.yb(7,16384,null,0,p.q,[[4,p.c]],null,null),(l()(),i.zb(8,0,null,null,34,"mat-form-field",[["class","profile-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,g.b,g.a)),i.Tb(6144,null,s.a,null,[s.d]),i.yb(10,7520256,null,9,s.d,[i.l,i.h,[2,f.f],[2,h.b],[2,s.b],v.a,i.A,[2,r.a]],null,null),i.Ub(603979776,2,{_controlNonStatic:0}),i.Ub(335544320,3,{_controlStatic:0}),i.Ub(603979776,4,{_labelChildNonStatic:0}),i.Ub(335544320,5,{_labelChildStatic:0}),i.Ub(603979776,6,{_placeholderChild:0}),i.Ub(603979776,7,{_errorChildren:1}),i.Ub(603979776,8,{_hintChildren:1}),i.Ub(603979776,9,{_prefixChildren:1}),i.Ub(603979776,10,{_suffixChildren:1}),(l()(),i.zb(20,0,null,3,2,"mat-label",[],null,null,null,null,null)),i.yb(21,16384,[[4,4],[5,4]],0,s.h,[],null,null),(l()(),i.Yb(-1,null,["Name"])),(l()(),i.zb(23,0,[["nameInput",1]],1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==i.Ob(l,28)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==i.Ob(l,28).onTouched()&&t),"compositionstart"===n&&(t=!1!==i.Ob(l,28)._compositionStart()&&t),"compositionend"===n&&(t=!1!==i.Ob(l,28)._compositionEnd(e.target.value)&&t),"focus"===n&&(t=!1!==i.Ob(l,32)._focusChanged(!0)&&t),"blur"===n&&(t=!1!==i.Ob(l,32)._focusChanged(!1)&&t),"input"===n&&(t=!1!==i.Ob(l,32)._onInput()&&t),t}),null,null)),i.yb(24,16384,null,0,p.v,[],{required:[0,"required"]},null),i.yb(25,540672,null,0,p.l,[],{minlength:[0,"minlength"]},null),i.yb(26,540672,null,0,p.k,[],{maxlength:[0,"maxlength"]},null),i.Tb(1024,null,p.m,(function(l,n,e){return[l,n,e]}),[p.v,p.l,p.k]),i.yb(28,16384,null,0,p.d,[i.F,i.l,[2,p.a]],null,null),i.Tb(1024,null,p.n,(function(l){return[l]}),[p.d]),i.yb(30,671744,null,0,p.g,[[3,p.c],[6,p.m],[8,null],[6,p.n],[2,p.z]],{name:[0,"name"]},null),i.Tb(2048,null,p.o,null,[p.g]),i.yb(32,999424,null,0,O.b,[i.l,v.a,[6,p.o],[2,p.r],[2,p.i],f.b,[8,null],_.a,i.A],{required:[0,"required"],type:[1,"type"]},null),i.yb(33,16384,null,0,p.p,[[4,p.o]],null,null),i.Tb(2048,[[2,4],[3,4]],s.e,null,[O.b]),(l()(),i.zb(35,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),i.yb(36,16384,[[8,4]],0,s.g,[],null,null),(l()(),i.Yb(-1,null,["The name of the company"])),(l()(),i.zb(38,0,null,7,2,"mat-hint",[["align","end"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),i.yb(39,16384,[[8,4]],0,s.g,[],{align:[0,"align"]},null),(l()(),i.Yb(40,null,["","/",""])),(l()(),i.ib(16777216,null,5,1,null,D)),i.yb(42,16384,null,0,c.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.zb(43,0,null,null,33,"mat-form-field",[["class","profile-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,g.b,g.a)),i.Tb(6144,null,s.a,null,[s.d]),i.yb(45,7520256,null,9,s.d,[i.l,i.h,[2,f.f],[2,h.b],[2,s.b],v.a,i.A,[2,r.a]],null,null),i.Ub(603979776,11,{_controlNonStatic:0}),i.Ub(335544320,12,{_controlStatic:0}),i.Ub(603979776,13,{_labelChildNonStatic:0}),i.Ub(335544320,14,{_labelChildStatic:0}),i.Ub(603979776,15,{_placeholderChild:0}),i.Ub(603979776,16,{_errorChildren:1}),i.Ub(603979776,17,{_hintChildren:1}),i.Ub(603979776,18,{_prefixChildren:1}),i.Ub(603979776,19,{_suffixChildren:1}),(l()(),i.zb(55,0,null,3,2,"mat-label",[],null,null,null,null,null)),i.yb(56,16384,[[13,4],[14,4]],0,s.h,[],null,null),(l()(),i.Yb(-1,null,["Description"])),(l()(),i.zb(58,0,[["descriptionInput",1]],1,10,"textarea",[["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["formControlName","description"],["matInput",""],["rows","1"],["type","text"]],[[1,"maxlength",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==i.Ob(l,59)._noopInputHandler()&&t),"input"===n&&(t=!1!==i.Ob(l,62)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==i.Ob(l,62).onTouched()&&t),"compositionstart"===n&&(t=!1!==i.Ob(l,62)._compositionStart()&&t),"compositionend"===n&&(t=!1!==i.Ob(l,62)._compositionEnd(e.target.value)&&t),"focus"===n&&(t=!1!==i.Ob(l,66)._focusChanged(!0)&&t),"blur"===n&&(t=!1!==i.Ob(l,66)._focusChanged(!1)&&t),"input"===n&&(t=!1!==i.Ob(l,66)._onInput()&&t),t}),null,null)),i.yb(59,4603904,null,0,_.b,[i.l,v.a,i.A,[2,c.d]],{enabled:[0,"enabled"]},null),i.yb(60,540672,null,0,p.k,[],{maxlength:[0,"maxlength"]},null),i.Tb(1024,null,p.m,(function(l){return[l]}),[p.k]),i.yb(62,16384,null,0,p.d,[i.F,i.l,[2,p.a]],null,null),i.Tb(1024,null,p.n,(function(l){return[l]}),[p.d]),i.yb(64,671744,null,0,p.g,[[3,p.c],[6,p.m],[8,null],[6,p.n],[2,p.z]],{name:[0,"name"]},null),i.Tb(2048,null,p.o,null,[p.g]),i.yb(66,999424,null,0,O.b,[i.l,v.a,[6,p.o],[2,p.r],[2,p.i],f.b,[8,null],_.a,i.A],{type:[0,"type"]},null),i.yb(67,16384,null,0,p.p,[[4,p.o]],null,null),i.Tb(2048,[[11,4],[12,4]],s.e,null,[O.b]),(l()(),i.zb(69,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),i.yb(70,16384,[[17,4]],0,s.g,[],null,null),(l()(),i.Yb(-1,null,["The description of the company"])),(l()(),i.zb(72,0,null,7,2,"mat-hint",[["align","end"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),i.yb(73,16384,[[17,4]],0,s.g,[],{align:[0,"align"]},null),(l()(),i.Yb(74,null,["","/",""])),(l()(),i.ib(16777216,null,1,1,null,F)),i.yb(76,16384,null,0,c.m,[i.Q,i.N],{ngIf:[0,"ngIf"]},null),(l()(),i.zb(77,0,null,null,5,"div",[["class","profile-form-section"]],null,null,null,null,null)),(l()(),i.zb(78,0,null,null,2,"div",[["class","profile-form-divider"]],null,null,null,null,null)),(l()(),i.zb(79,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,y.b,y.a)),i.yb(80,49152,null,0,w.a,[],null,null),(l()(),i.zb(81,0,null,null,1,"app-image-manager",[["class","profile-form-image-preview"]],null,[[null,"imageSelectedEvent"],[null,"imageDeleteEvent"],[null,"imagePreviewEvent"]],(function(l,n,e){var i=!0,t=l.component;return"imageSelectedEvent"===n&&(i=!1!==t.selectLogo(e)&&i),"imageDeleteEvent"===n&&(i=!1!==t.deleteLogo()&&i),"imagePreviewEvent"===n&&(i=!1!==t.emitImagePreview(e)&&i),i}),C.b,C.a)),i.yb(82,114688,[[1,4]],0,M.a,[E.e,P.a],{mode:[0,"mode"],progress:[1,"progress"],_imageUrl:[2,"_imageUrl"]},{imageSelectedEvent:"imageSelectedEvent",imagePreviewEvent:"imagePreviewEvent",imageDeleteEvent:"imageDeleteEvent"}),(l()(),i.zb(83,0,null,null,6,"div",[["class","profile-form-actions"]],null,null,null,null,null)),(l()(),i.zb(84,0,null,null,2,"div",[["class","profile-form-divider"]],null,null,null,null,null)),(l()(),i.zb(85,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,y.b,y.a)),i.yb(86,49152,null,0,w.a,[],null,null),(l()(),i.ib(16777216,null,null,1,null,N)),i.yb(88,16384,null,0,c.m,[i.Q,i.N],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),i.ib(0,[["editControls",2]],null,0,null,L))],(function(l,n){var e=n.component;l(n,5,0,e.profileFrom),l(n,24,0,""),l(n,25,0,e.NAME_MIN_CHARS),l(n,26,0,e.NAME_MAX_CHARS),l(n,30,0,"name"),l(n,32,0,"","text"),l(n,39,0,"end"),l(n,42,0,e.name.invalid),l(n,59,0,""),l(n,60,0,e.DESC_MAX_CHARS),l(n,64,0,"description"),l(n,66,0,"text"),l(n,73,0,"end"),l(n,76,0,null==e.description?null:null==e.description.errors?null:e.description.errors.maxlength),l(n,82,0,e.controls===e.ADD_CONTROLS?"select":"upload",e.uploadProgress,e.imageUrl),l(n,88,0,e.controls===e.ADD_CONTROLS,i.Ob(n,89))}),(function(l,n){var e=n.component;l(n,3,0,i.Ob(n,7).ngClassUntouched,i.Ob(n,7).ngClassTouched,i.Ob(n,7).ngClassPristine,i.Ob(n,7).ngClassDirty,i.Ob(n,7).ngClassValid,i.Ob(n,7).ngClassInvalid,i.Ob(n,7).ngClassPending),l(n,8,1,["standard"==i.Ob(n,10).appearance,"fill"==i.Ob(n,10).appearance,"outline"==i.Ob(n,10).appearance,"legacy"==i.Ob(n,10).appearance,i.Ob(n,10)._control.errorState,i.Ob(n,10)._canLabelFloat,i.Ob(n,10)._shouldLabelFloat(),i.Ob(n,10)._hasFloatingLabel(),i.Ob(n,10)._hideControlPlaceholder(),i.Ob(n,10)._control.disabled,i.Ob(n,10)._control.autofilled,i.Ob(n,10)._control.focused,"accent"==i.Ob(n,10).color,"warn"==i.Ob(n,10).color,i.Ob(n,10)._shouldForward("untouched"),i.Ob(n,10)._shouldForward("touched"),i.Ob(n,10)._shouldForward("pristine"),i.Ob(n,10)._shouldForward("dirty"),i.Ob(n,10)._shouldForward("valid"),i.Ob(n,10)._shouldForward("invalid"),i.Ob(n,10)._shouldForward("pending"),!i.Ob(n,10)._animationsEnabled]),l(n,23,1,[i.Ob(n,24).required?"":null,i.Ob(n,25).minlength?i.Ob(n,25).minlength:null,i.Ob(n,26).maxlength?i.Ob(n,26).maxlength:null,i.Ob(n,32)._isServer,i.Ob(n,32).id,i.Ob(n,32).placeholder,i.Ob(n,32).disabled,i.Ob(n,32).required,i.Ob(n,32).readonly&&!i.Ob(n,32)._isNativeSelect||null,i.Ob(n,32)._ariaDescribedby||null,i.Ob(n,32).errorState,i.Ob(n,32).required.toString(),i.Ob(n,33).ngClassUntouched,i.Ob(n,33).ngClassTouched,i.Ob(n,33).ngClassPristine,i.Ob(n,33).ngClassDirty,i.Ob(n,33).ngClassValid,i.Ob(n,33).ngClassInvalid,i.Ob(n,33).ngClassPending]),l(n,35,0,"end"==i.Ob(n,36).align,i.Ob(n,36).id,null),l(n,38,0,"end"==i.Ob(n,39).align,i.Ob(n,39).id,null),l(n,40,0,(null==i.Ob(n,23).value?null:i.Ob(n,23).value.length)||0,e.NAME_MAX_CHARS),l(n,43,1,["standard"==i.Ob(n,45).appearance,"fill"==i.Ob(n,45).appearance,"outline"==i.Ob(n,45).appearance,"legacy"==i.Ob(n,45).appearance,i.Ob(n,45)._control.errorState,i.Ob(n,45)._canLabelFloat,i.Ob(n,45)._shouldLabelFloat(),i.Ob(n,45)._hasFloatingLabel(),i.Ob(n,45)._hideControlPlaceholder(),i.Ob(n,45)._control.disabled,i.Ob(n,45)._control.autofilled,i.Ob(n,45)._control.focused,"accent"==i.Ob(n,45).color,"warn"==i.Ob(n,45).color,i.Ob(n,45)._shouldForward("untouched"),i.Ob(n,45)._shouldForward("touched"),i.Ob(n,45)._shouldForward("pristine"),i.Ob(n,45)._shouldForward("dirty"),i.Ob(n,45)._shouldForward("valid"),i.Ob(n,45)._shouldForward("invalid"),i.Ob(n,45)._shouldForward("pending"),!i.Ob(n,45)._animationsEnabled]),l(n,58,1,[i.Ob(n,60).maxlength?i.Ob(n,60).maxlength:null,i.Ob(n,66)._isServer,i.Ob(n,66).id,i.Ob(n,66).placeholder,i.Ob(n,66).disabled,i.Ob(n,66).required,i.Ob(n,66).readonly&&!i.Ob(n,66)._isNativeSelect||null,i.Ob(n,66)._ariaDescribedby||null,i.Ob(n,66).errorState,i.Ob(n,66).required.toString(),i.Ob(n,67).ngClassUntouched,i.Ob(n,67).ngClassTouched,i.Ob(n,67).ngClassPristine,i.Ob(n,67).ngClassDirty,i.Ob(n,67).ngClassValid,i.Ob(n,67).ngClassInvalid,i.Ob(n,67).ngClassPending]),l(n,69,0,"end"==i.Ob(n,70).align,i.Ob(n,70).id,null),l(n,72,0,"end"==i.Ob(n,73).align,i.Ob(n,73).id,null),l(n,74,0,(null==i.Ob(n,58).value?null:i.Ob(n,58).value.length)||0,e.DESC_MAX_CHARS),l(n,79,0,i.Ob(n,80).vertical?"vertical":"horizontal",i.Ob(n,80).vertical,!i.Ob(n,80).vertical,i.Ob(n,80).inset),l(n,85,0,i.Ob(n,86).vertical?"vertical":"horizontal",i.Ob(n,86).vertical,!i.Ob(n,86).vertical,i.Ob(n,86).inset)}))}var k=e("nYR2"),R=e("vkgz"),Y=e("pLZG"),q=e("lJxs"),H=e("IheW");class j{constructor(l,n,e,i,t){this.activatedRoute=l,this.companyService=n,this.snackBar=e,this.progressBar=i,this.titleService=t,this.company=null,this.uploadProgressPercentage=void 0,this.profileForm=null}ngOnInit(){this.activatedRoute.parent.parent.data.subscribe(l=>{this.company=l.company,this.company&&this.company.name&&this.titleService.append(`${this.company.name} | Profile`)})}update(l){this.progressBar.status=!0,this.profileForm.processing=!0,this.companyService.updateCompany(l).pipe(Object(k.a)(()=>{this.progressBar.status=!1,this.profileForm.processing=!1})).subscribe(l=>{this.company.deserialize(l),this.profileForm.initProfileForm(),this.snackBar.open("The profile has been updated successfully")})}uploadLogo(l){const n=this.company.imageUrl;this.company.imageUrl=null,this.companyService.uploadCompanyLogo(l).pipe(Object(R.a)(l=>{l.type===H.f.UploadProgress&&(this.uploadProgressPercentage=Math.round(100*l.loaded/l.total))}),Object(Y.a)(l=>l.type===H.f.Response),Object(q.a)(l=>new S.a(l.body))).subscribe(l=>{this.company.imageUrl=l.imageUrl,this.company.imagePreview=null,this.uploadProgressPercentage=void 0,this.snackBar.open("The image has been uploaded successfully")},l=>{this.company.imageUrl=n,this.company.imagePreview=null})}setImagePreview(l){this.company.imagePreview=l}deleteCompanyLogo(){this.company.imageUrl=null,this.companyService.deleteCompanyLogo().subscribe(l=>{this.company.deserialize(l),this.snackBar.open("The image has been deleted successfully")})}}var X=e("iInd"),Q=e("4zr2"),B=e("zHaW"),J=e("yW4/"),W=e("Trmh"),V=i.xb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;flex:1 1 auto;justify-content:center;align-items:center;box-sizing:content-box}.company-profile-card[_ngcontent-%COMP%]{width:75%;flex:1 1 auto;margin:32px}"]],data:{}});function Z(l){return i.bc(0,[i.Ub(671088640,1,{profileForm:0}),(l()(),i.zb(1,0,null,null,3,"mat-card",[["class","company-profile-card mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,o.d,o.a)),i.yb(2,49152,null,0,u.a,[[2,r.a]],null,null),(l()(),i.zb(3,0,null,0,1,"app-company-profile-form",[["controls","edit"]],null,[[null,"updateEvent"],[null,"imageSelectEvent"],[null,"imagePreviewEvent"],[null,"imageDeleteEvent"]],(function(l,n,e){var i=!0,t=l.component;return"updateEvent"===n&&(i=!1!==t.update(e)&&i),"imageSelectEvent"===n&&(i=!1!==t.uploadLogo(e)&&i),"imagePreviewEvent"===n&&(i=!1!==t.setImagePreview(e)&&i),"imageDeleteEvent"===n&&(i=!1!==t.deleteCompanyLogo()&&i),i}),T,U)),i.yb(4,114688,[[1,4]],0,x,[],{controls:[0,"controls"],company:[1,"company"],uploadProgress:[2,"uploadProgress"]},{updateEvent:"updateEvent",imageSelectEvent:"imageSelectEvent",imageDeleteEvent:"imageDeleteEvent",imagePreviewEvent:"imagePreviewEvent"})],(function(l,n){var e=n.component;l(n,4,0,"edit",e.company,e.uploadProgressPercentage)}),(function(l,n){l(n,1,0,"NoopAnimations"===i.Ob(n,2)._animationMode)}))}function $(l){return i.bc(0,[(l()(),i.zb(0,0,null,null,1,"app-company-profile",[],null,null,null,Z,V)),i.yb(1,114688,null,0,j,[X.a,Q.a,B.c,J.a,W.a],null,null)],(function(l,n){l(n,1,0)}),null)}var G=i.vb("app-company-profile",j,$,{},{},[]),K=e("9b/N");class ll{}var nl=e("pu8Q"),el=e("Tj54"),il=e("RhNP");class tl{}e.d(n,"CompanyProfileModuleNgFactory",(function(){return al}));var al=i.wb(t,[],(function(l){return i.Lb([i.Mb(512,i.j,i.ab,[[8,[a.a,G]],[3,i.j],i.y]),i.Mb(4608,c.o,c.n,[i.v]),i.Mb(4608,K.c,K.c,[]),i.Mb(4608,f.b,f.b,[]),i.Mb(4608,p.e,p.e,[]),i.Mb(4608,p.y,p.y,[]),i.Mb(1073742336,c.c,c.c,[]),i.Mb(1073742336,X.s,X.s,[[2,X.x],[2,X.o]]),i.Mb(1073742336,ll,ll,[]),i.Mb(1073742336,h.a,h.a,[]),i.Mb(1073742336,f.j,f.j,[b.j,[2,f.c],[2,c.d]]),i.Mb(1073742336,K.d,K.d,[]),i.Mb(1073742336,s.f,s.f,[]),i.Mb(1073742336,nl.c,nl.c,[]),i.Mb(1073742336,el.c,el.c,[]),i.Mb(1073742336,v.b,v.b,[]),i.Mb(1073742336,f.t,f.t,[]),i.Mb(1073742336,m.c,m.c,[]),i.Mb(1073742336,il.a,il.a,[]),i.Mb(1073742336,_.c,_.c,[]),i.Mb(1073742336,O.c,O.c,[]),i.Mb(1073742336,w.b,w.b,[]),i.Mb(1073742336,p.x,p.x,[]),i.Mb(1073742336,p.u,p.u,[]),i.Mb(1073742336,tl,tl,[]),i.Mb(1073742336,u.f,u.f,[]),i.Mb(1073742336,t,t,[]),i.Mb(1024,X.m,(function(){return[[{path:"",component:j}]]}),[])])}))},RhNP:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));class i{}}}]);